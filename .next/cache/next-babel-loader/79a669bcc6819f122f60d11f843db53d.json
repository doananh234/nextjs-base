{"ast":null,"code":"import cookie from 'js-cookie';\nexport const setCookie = (key, value) => {\n  if (process.browser) {\n    cookie.set(key, value, {\n      expires: 1,\n      path: '/'\n    });\n  }\n};\nexport const removeCookie = key => {\n  if (process.browser) {\n    cookie.remove(key, {\n      expires: 1\n    });\n  }\n};\n\nconst getCookieFromBrowser = key => cookie.get(key);\n\nconst getCookieFromServer = (key, req) => {\n  if (!req.headers.cookie) {\n    return undefined;\n  }\n\n  const rawCookie = req.headers.cookie.split(';').find(c => c.trim().startsWith(`${key}=`));\n\n  if (!rawCookie) {\n    return undefined;\n  }\n\n  return rawCookie.split('=')[1];\n};\n\nexport const getCookie = (key, req) => process.browser ? getCookieFromBrowser(key) : getCookieFromServer(key, req); // TODO: Token\n\nexport const getToken = (ctx = {}) => getCookie('token', ctx.req);\nexport const setToken = value => setCookie('token', value);\nexport const removeToken = () => removeCookie('token');\n/**\n * Get authenticated status\n * @param {*} ctx optional\n */\n\nexport const isAuthenticated = ctx => !!getToken(ctx);","map":null,"metadata":{},"sourceType":"module"}