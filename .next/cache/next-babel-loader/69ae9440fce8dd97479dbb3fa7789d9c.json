{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\n\nvar _marked =\n/*#__PURE__*/\n_regeneratorRuntime.mark(apiWrapper);\n\nimport { call } from 'redux-saga/effects';\nimport _ from 'lodash'; // import LoginActions from '../Redux/LoginRedux/actions';\n\nexport function makeConstantCreator() {\n  var constant = {};\n\n  for (var _len = arguments.length, params = new Array(_len), _key = 0; _key < _len; _key++) {\n    params[_key] = arguments[_key];\n  }\n\n  _.each(params, function (param) {\n    constant[param] = param;\n  });\n\n  return constant;\n}\nexport var makeActionCreator = function makeActionCreator(type) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  return _objectSpread({\n    type: type\n  }, params);\n};\nexport var makeReducerCreator = function makeReducerCreator() {\n  var initialState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n  var handlers = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return function () {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n    var action = arguments.length > 1 ? arguments[1] : undefined;\n    if (!action && !action.type) return state;\n    var handler = handlers[action.type];\n    return handler && handler(state, action) || state;\n  };\n};\nexport function apiWrapper() {\n  var isHaveProgress,\n      apiFunc,\n      _len2,\n      params,\n      _key2,\n      response,\n      _args = arguments;\n\n  return _regeneratorRuntime.wrap(function apiWrapper$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          isHaveProgress = _args.length > 0 && _args[0] !== undefined ? _args[0] : false;\n          apiFunc = _args.length > 1 ? _args[1] : undefined;\n          _context.prev = 2;\n\n          for (_len2 = _args.length, params = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n            params[_key2 - 2] = _args[_key2];\n          }\n\n          _context.next = 6;\n          return call.apply(void 0, [apiFunc].concat(params));\n\n        case 6:\n          response = _context.sent;\n          return _context.abrupt(\"return\", response);\n\n        case 10:\n          _context.prev = 10;\n          _context.t0 = _context[\"catch\"](2);\n          return _context.abrupt(\"return\", _context.t0);\n\n        case 13:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, null, [[2, 10]]);\n}","map":{"version":3,"sources":["/Users/apple/Work/myproject/base/base-nextjs/utils/redux.js"],"names":["apiWrapper","call","_","makeConstantCreator","constant","params","each","param","makeActionCreator","type","makeReducerCreator","initialState","handlers","state","action","handler","isHaveProgress","apiFunc","response"],"mappings":";;;;;yBAuBiBA,U;;AAvBjB,SAASC,IAAT,QAAqB,oBAArB;AACA,OAAOC,CAAP,MAAc,QAAd,C,CACA;;AAEA,OAAO,SAASC,mBAAT,GAAwC;AAC7C,MAAMC,QAAQ,GAAG,EAAjB;;AAD6C,oCAARC,MAAQ;AAARA,IAAAA,MAAQ;AAAA;;AAE7CH,EAAAA,CAAC,CAACI,IAAF,CAAOD,MAAP,EAAe,UAAAE,KAAK,EAAI;AACtBH,IAAAA,QAAQ,CAACG,KAAD,CAAR,GAAkBA,KAAlB;AACD,GAFD;;AAGA,SAAOH,QAAP;AACD;AAED,OAAO,IAAMI,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,IAAD;AAAA,MAAOJ,MAAP,uEAAgB,IAAhB;AAAA;AAA4BI,IAAAA,IAAI,EAAJA;AAA5B,KAAqCJ,MAArC;AAAA,CAA1B;AAEP,OAAO,IAAMK,kBAAkB,GAAG,SAArBA,kBAAqB;AAAA,MAACC,YAAD,uEAAgB,IAAhB;AAAA,MAAsBC,QAAtB,uEAAiC,EAAjC;AAAA,SAAwC,YAGrE;AAAA,QAFHC,KAEG,uEAFKF,YAEL;AAAA,QADHG,MACG;AACH,QAAI,CAACA,MAAD,IAAW,CAACA,MAAM,CAACL,IAAvB,EAA6B,OAAOI,KAAP;AAC7B,QAAME,OAAO,GAAGH,QAAQ,CAACE,MAAM,CAACL,IAAR,CAAxB;AACA,WAAQM,OAAO,IAAIA,OAAO,CAACF,KAAD,EAAQC,MAAR,CAAnB,IAAuCD,KAA9C;AACD,GAPiC;AAAA,CAA3B;AASP,OAAO,SAAUb,UAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAqBgB,UAAAA,cAArB,2DAAsC,KAAtC;AAA6CC,UAAAA,OAA7C;AAAA;;AAAA,qCAAyDZ,MAAzD;AAAyDA,YAAAA,MAAzD;AAAA;;AAAA;AAIc,iBAAMJ,IAAI,MAAJ,UAAKgB,OAAL,SAAiBZ,MAAjB,EAAN;;AAJd;AAIGa,UAAAA,QAJH;AAAA,2CASIA,QATJ;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA","sourcesContent":["import { call } from 'redux-saga/effects';\nimport _ from 'lodash';\n// import LoginActions from '../Redux/LoginRedux/actions';\n\nexport function makeConstantCreator(...params) {\n  const constant = {};\n  _.each(params, param => {\n    constant[param] = param;\n  });\n  return constant;\n}\n\nexport const makeActionCreator = (type, params = null) => ({ type, ...params });\n\nexport const makeReducerCreator = (initialState = null, handlers = {}) => (\n  state = initialState,\n  action\n) => {\n  if (!action && !action.type) return state;\n  const handler = handlers[action.type];\n  return (handler && handler(state, action)) || state;\n};\n\nexport function* apiWrapper(isHaveProgress = false, apiFunc, ...params) {\n  try {\n    // dismissInAppNoti();\n    // isHaveProgress && showProgress();\n    const response = yield call(apiFunc, ...params);\n    // isHaveProgress && showProgress(false);\n    // if (response?.code === 401) {\n    //   yield put(LoginActions.clearToken());\n    // }\n    return response;\n  } catch (error) {\n    // isHaveProgress && showProgress(false);\n    // if (error?.code === 401) {\n    //   yield put(LoginActions.clearToken());\n    // }\n    return error;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}